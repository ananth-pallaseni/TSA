<!DOCTYPE html>
<html lang='en'>
	<head>
		<meta charset='utf8'>
		<meta name='viewport' content='width=device-width, initial-scale=1'>
		<title>TSA</title>
        <script type="text/javascript" src='jquery-3.1.1.js'></script>
		<script type="text/javascript" src="d3/d3.js"></script>
        <script type="text/javascript" src="graph.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>


        <link rel='stylesheet' type='text/css' href='bootstrap/css/bootstrap.css'>
        <link rel='stylesheet' type='text/css' href='header.css'>
        <link rel='stylesheet' type='text/css' href='welcome.css'>
    </head>

    <body>
        <div class='container-fluid overarching-container'>
            <!-- Header Row -->
        

            <div class='row body-container'>
                <div class='row welcome-area'>
                    <div class='col-md-12 welcome'>
                        <h1>Welcome to TSA!</h1>
                        <p>Load a .tsa.json file to continue</p>
                    </div>
                </div>
                <div class='row graph-area'>
                    <div class='col-md-12 graph-col'>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">
            var svg = d3.select('.graph-col')
                .append('svg')
                .attr('width', '100%')
                .attr('height', '100%')
                .attr('id', 'main-svg');

            var backRect = svg.append('rect')
                .attr('width', '100%')
                .attr('height', '100%')
                .attr('fill', 'red')
                .attr('fill-opacity', 0);

            var redraw = function() {
                var url = window.location.hostname + '/graph/random';
                d3.json(url, function(d) {
                    drawGraphPadded(svg, d.nodes, d.edges, d.layout);
                });
            }

            redraw();

            var intervalID = window.setInterval(redraw, 4000);
            
        </script>
        <script type="text/javascript" src="header.js"></script>
    </body>
</html>